<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .stat-card {
            transition: all 0.3s ease;
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="max-w-6xl mx-auto p-6">
        <div class="flex justify-between items-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800">
                <i class="fas fa-chart-line text-blue-500 mr-2"></i> Analytics Dashboard
            </h1>
            <a href="index.html" class="text-blue-500 hover:text-blue-700">
                <i class="fas fa-arrow-left mr-1"></i> Back to Generator
            </a>
        </div>

        <!-- Stats Overview -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="stat-card bg-white p-6 rounded-xl shadow-md border-l-4 border-blue-500">
                <h3 class="text-gray-500 text-sm font-medium">Followers</h3>
                <p class="text-3xl font-bold" id="followersCount">0</p>
                <p class="text-green-500 text-sm mt-1"><i class="fas fa-arrow-up mr-1"></i> <span id="followersGrowth">0</span>% growth</p>
            </div>
            <div class="stat-card bg-white p-6 rounded-xl shadow-md border-l-4 border-purple-500">
                <h3 class="text-gray-500 text-sm font-medium">Engagement Rate</h3>
                <p class="text-3xl font-bold" id="engagementRate">0</p>
                <p class="text-green-500 text-sm mt-1"><i class="fas fa-arrow-up mr-1"></i> <span id="engagementGrowth">0</span>% improvement</p>
            </div>
            <div class="stat-card bg-white p-6 rounded-xl shadow-md border-l-4 border-green-500">
                <h3 class="text-gray-500 text-sm font-medium">Impressions</h3>
                <p class="text-3xl font-bold" id="impressionsCount">0</p>
                <p class="text-green-500 text-sm mt-1"><i class="fas fa-arrow-up mr-1"></i> <span id="impressionsGrowth">0</span>% increase</p>
            </div>
            <div class="stat-card bg-white p-6 rounded-xl shadow-md border-l-4 border-red-500">
                <h3 class="text-gray-500 text-sm font-medium">Top Post</h3>
                <p class="text-3xl font-bold" id="topPostLikes">0</p>
                <p class="text-gray-500 text-sm mt-1">Likes</p>
            </div>
        </div>

        <!-- Charts Row 1 -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="text-lg font-semibold mb-4">Follower Growth</h3>
                <canvas id="followerChart" height="250"></canvas>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="text-lg font-semibold mb-4">Engagement Metrics</h3>
                <canvas id="engagementChart" height="250"></canvas>
            </div>
        </div>

        <!-- Charts Row 2 -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="text-lg font-semibold mb-4">Age & Gender</h3>
                <canvas id="ageGenderChart" height="250"></canvas>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="text-lg font-semibold mb-4">Top Locations</h3>
                <canvas id="locationChart" height="250"></canvas>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="text-lg font-semibold mb-4">Activity Times</h3>
                <canvas id="activityChart" height="250"></canvas>
            </div>
        </div>

        <!-- Detailed Demographics Section -->
        <div class="bg-white rounded-xl shadow-md p-6 mt-6">
            <h2 class="text-xl font-semibold mb-4">Detailed Audience Insights</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="font-medium mb-2">Languages</h3>
                    <div class="space-y-2">
                        <div class="flex items-center">
                            <span class="w-24">English</span>
                            <div class="flex-1 bg-gray-200 rounded-full h-2.5">
                                <div class="bg-blue-600 h-2.5 rounded-full" style="width: 78%"></div>
                            </div>
                            <span class="w-10 text-right">78%</span>
                        </div>
                        <div class="flex items-center">
                            <span class="w-24">Spanish</span>
                            <div class="flex-1 bg-gray-200 rounded-full h-2.5">
                                <div class="bg-blue-600 h-2.5 rounded-full" style="width: 12%"></div>
                            </div>
                            <span class="w-10 text-right">12%</span>
                        </div>
                        <div class="flex items-center">
                            <span class="w-24">Other</span>
                            <div class="flex-1 bg-gray-200 rounded-full h-2.5">
                                <div class="bg-blue-600 h-2.5 rounded-full" style="width: 10%"></div>
                            </div>
                            <span class="w-10 text-right">10%</span>
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="font-medium mb-2">Interests</h3>
                    <div class="flex flex-wrap gap-2">
                        <span class="bg-blue-100 text-blue-800 text-xs px-2.5 py-0.5 rounded">Technology</span>
                        <span class="bg-green-100 text-green-800 text-xs px-2.5 py-0.5 rounded">Travel</span>
                        <span class="bg-yellow-100 text-yellow-800 text-xs px-2.5 py-0.5 rounded">Food</span>
                        <span class="bg-purple-100 text-purple-800 text-xs px-2.5 py-0.5 rounded">Fashion</span>
                        <span class="bg-pink-100 text-pink-800 text-xs px-2.5 py-0.5 rounded">Fitness</span>
                        <span class="bg-indigo-100 text-indigo-800 text-xs px-2.5 py-0.5 rounded">Music</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const profileData = JSON.parse(localStorage.getItem('profileData')) || {};
            
            // Generate random analytics data based on profile
            const followers = profileData.followers ? parseInt(profileData.followers) : 1000;
            const growthRate = Math.floor(Math.random() * 15) + 5;
            const engagement = Math.floor(Math.random() * 15) + 3;
            const impressions = followers * (Math.floor(Math.random() * 5) + 3);
            const topPostLikes = Math.floor(followers * 0.3 * (Math.random() * 0.5 + 0.8));

            // Update stats
            document.getElementById('followersCount').textContent = followers.toLocaleString();
            document.getElementById('followersGrowth').textContent = growthRate;
            document.getElementById('engagementRate').textContent = engagement + '%';
            document.getElementById('engagementGrowth').textContent = Math.floor(growthRate * 0.7);
            document.getElementById('impressionsCount').textContent = impressions.toLocaleString();
            document.getElementById('impressionsGrowth').textContent = growthRate + 5;
            document.getElementById('topPostLikes').textContent = topPostLikes.toLocaleString();

            // Initialize charts
            initCharts(followers, engagement);
        });

        function initCharts(followers, engagement) {
            // Follower Growth Chart
            const followerCtx = document.getElementById('followerChart').getContext('2d');
            new Chart(followerCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Followers',
                        data: generateGrowthData(followers, 6),
                        borderColor: '#3B82F6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: chartOptions('Follower Growth')
            });

            // Engagement Chart
            const engagementCtx = document.getElementById('engagementChart').getContext('2d');
            new Chart(engagementCtx, {
                type: 'bar',
                data: {
                    labels: ['Likes', 'Comments', 'Shares', 'Saves'],
                    datasets: [{
                        label: 'Engagement',
                        data: [
                            Math.floor(followers * engagement * 0.01 * 0.7),
                            Math.floor(followers * engagement * 0.01 * 0.2),
                            Math.floor(followers * engagement * 0.01 * 0.08),
                            Math.floor(followers * engagement * 0.01 * 0.02)
                        ],
                        backgroundColor: [
                            'rgba(99, 102, 241, 0.7)',
                            'rgba(139, 92, 246, 0.7)',
                            'rgba(217, 70, 239, 0.7)',
                            'rgba(236, 72, 153, 0.7)'
                        ]
                    }]
                },
                options: chartOptions('Engagement Breakdown')
            });

            // Demographics Chart
            const demoCtx = document.getElementById('demographicsChart').getContext('2d');
            new Chart(demoCtx, {
                type: 'doughnut',
                data: {
                    labels: ['18-24', '25-34', '35-44', '45-54', '55+'],
                    datasets: [{
                        data: [35, 40, 15, 7, 3],
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.7)',
                            'rgba(99, 102, 241, 0.7)',
                            'rgba(139, 92, 246, 0.7)',
                            'rgba(217, 70, 239, 0.7)',
                            'rgba(236, 72, 153, 0.7)'
                        ]
                    }]
                },
                options: chartOptions('Age Demographics')
            });

            // Performance Chart
            const perfCtx = document.getElementById('performanceChart').getContext('2d');
            new Chart(perfCtx, {
                type: 'radar',
                data: {
                    labels: ['Reach', 'Engagement', 'Growth', 'Consistency', 'Virality'],
                    datasets: [{
                        label: 'Performance',
                        data: [85, 72, 68, 90, 65],
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderColor: '#3B82F6',
                        pointBackgroundColor: '#3B82F6'
                    }]
                },
                options: chartOptions('Account Health')
            });
        }

        function generateGrowthData(base, months) {
            const data = [];
            let current = base;
            for (let i = 0; i < months; i++) {
                data.unshift(Math.floor(current));
                current = current / (1 + (Math.random() * 0.1 + 0.05));
            }
            return data;
        }

        function chartOptions(title) {
            return {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: title,
                        font: {
                            size: 16
                        }
                    }
                }
            };
        }
    </script>
</body>
</html>